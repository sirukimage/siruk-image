import{_ as r}from"./By8fgQ0B.js";import{r as i,q as _,C as u,c as l,b as p,w as d,a as o,t as h,x as m,o as f,s as k,B as v}from"./BcEEFOlq.js";const g=o("option",{value:"system"},"System",-1),x=o("option",{value:"light"},"Light",-1),y=o("option",{value:"dark"},"Dark",-1),w=o("option",{value:"sepia"},"Sepia",-1),S=o("option",{value:"tilte"},"Tilte",-1),b=[g,x,y,w,S],E={class:"flex justify-center text-3xl"},M="https://api.imgur.com/oauth2/authorize?client_id=b5397916875dde8&response_type=token&state=NEW_REGISTRATION",B={__name:"index",setup(N){const t=i({access_token:"",expires_in:"",token_type:"",refresh_token:"",account_username:"",account_id:""});_(()=>{a(window.location.href)});function a(s){const e=new URLSearchParams(s.split("#")[1]),n=e.get("access_token");return e.get("refresh_token"),t.value.access_token=e.get("access_token"),t.value.expires_in=e.get("expires_in"),t.value.token_type=e.get("token_type"),t.value.refresh_token=e.get("refresh_token"),t.value.account_username=e.get("account_username"),t.value.account_id=e.get("account_id"),n&&($fetch("/api/tokens",{method:"post",body:t.value}),alert("user has been registered!"),u().push(`/?username=${t.value.account_username}`)),n}return(s,e)=>{const n=r;return f(),l("div",null,[p(n,null,{default:d(()=>[k(o("select",{class:"bg-zinc-800 text-white","onUpdate:modelValue":e[0]||(e[0]=c=>s.$colorMode.preference=c)},b,512),[[v,s.$colorMode.preference]])]),_:1}),o("a",{href:M}),o("div",E," USERNAME: "+h(m(t).account_username),1)])}}};export{B as default};
