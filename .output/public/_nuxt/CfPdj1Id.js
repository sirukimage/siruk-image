import{_ as T}from"./hq2leXKQ.js";import{_ as I}from"./By8fgQ0B.js";import{u as A,n as C,r as n,q as B,c as g,a as e,d as p,b as f,w as y,s as x,v as N,x as s,y as U,t as h,z as w,A as D,o as v,B as O}from"./BcEEFOlq.js";const R=()=>A("color-mode").value,V={class:"flex justify-center"},$={class:"mt-8"},L={class:"mb-5"},q=e("label",{for:"image-title"},"USERNAME",-1),F=e("br",null,null,-1),z={class:"mt-3"},G=e("label",{for:"image-uploader"},"UPLOAD IMAGE",-1),P=e("br",null,null,-1),j={class:"mt-3"},W=["disabled"],H=["src"],K={class:"mt-3"},Q=["href"],Y=e("div",{class:"text-2xl"},"READY TO CODE?",-1),J=e("br",null,null,-1),X=e("div",null," MAKE AN HTTP POST REQUEST TO ",-1),Z=e("br",null,null,-1),ee=e("div",null," will the following multi part form data: ",-1),te=e("div",null," -image: ImageFile [Binary Large OBject (blob/binary)] ",-1),oe={class:"absolute top-0 right-0 p-3"},se=e("option",{value:"system"},"System",-1),ae=e("option",{value:"light"},"Light",-1),ne=e("option",{value:"dark"},"Dark",-1),le=e("option",{value:"sepia"},"Sepia",-1),ie=[se,ae,ne,le],re="https://api.imgur.com/oauth2/authorize?client_id=b5397916875dde8&response_type=token&state=NEW_REGISTRATION",me={__name:"index",setup(de){const m=C(),_=n("");R();const b=n(null),l=n(""),k=n(null),d=n(null),i=n(!1);B(()=>{_.value=window.location.href,l.value=m.query.username});function E(){navigator.clipboard.writeText(`${_.value}api/images`)}function S(a){b.value=a.target.files[0]}async function M(){var a,o,u;try{i.value=!0;const t=new FormData;t.append("image",b.value),t.append("username",l.value);const c=await $fetch("/api/images",{method:"post",body:t,headers:{Authorization:`Bearer ${k.value}`}});d.value=c.data.link,i.value=!1}catch(t){i.value=!1,console.log("error resonse: ",t.response),console.log("errro data: ",t.data.message),alert(((u=(o=(a=t.response)==null?void 0:a._data)==null?void 0:o.data)==null?void 0:u.message)??t.message),console.error(t)}}return(a,o)=>{var c;const u=T,t=I;return v(),g("div",null,[e("form",{onSubmit:D(M,["prevent"]),method:"post"},[e("div",V,[e("div",$,[e("div",L,[p(" Dont have username? "),f(u,{to:re,style:{"border-bottom":"1px solid grey"}},{default:y(()=>[p(" Sign In to Imgur ")]),_:1})]),q,p(),F,x(e("input",{style:{border:"1px solid grey","border-radius":"8px",padding:"4px"},class:"bg-transparent",autofocus:"",onFocus:o[0]||(o[0]=r=>console.log(r.target.select())),id:"image=title",name:"image=title","onUpdate:modelValue":o[1]||(o[1]=r=>U(l)?l.value=r:null),type:"text"},null,544),[[N,s(l)]]),e("div",z,[G,p(),P,e("input",{accept:"image/*",type:"file",name:"image-uploader",id:"image-uploader",onChange:S},null,32)]),e("div",j,[e("button",{class:"align-middle select-none font-sans font-bold text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none text-xs py-3 px-6 rounded-lg bg-gray-900 text-white shadow-md shadow-gray-900/10 hover:shadow-lg hover:shadow-gray-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none",style:{border:"1px solid white"},type:"submit",disabled:s(i)},h(s(i)?"Uploading..":"SUBMIT"),9,W)]),e("img",{src:s(d),alt:""},null,8,H),e("div",K,[s(d)?(v(),g("a",{key:0,href:s(d),target:"_blank"},"VIEW IMAGE",8,Q)):w("",!0)]),s(m).query.username?(v(),g("div",{key:0,class:"mt-32",onClick:E},[Y,J,X,e("div",null,h(`${s(_)}api/images`),1),Z,ee,e("div",null," -username: "+h((c=s(m).query)==null?void 0:c.username)+" [string] ",1),te])):w("",!0)])])],32),e("div",oe,[f(t,null,{default:y(()=>[x(e("select",{class:"bg-transparent outline-green-400 p-1 px-3",style:{border:"1px solid lightseagreen","border-radius":"8px"},"onUpdate:modelValue":o[2]||(o[2]=r=>a.$colorMode.preference=r)},ie,512),[[O,a.$colorMode.preference]])]),_:1})])])}}};export{me as default};
